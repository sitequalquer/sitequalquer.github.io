(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[766],{8:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var s=r(5155),a=r(2115),l=r(8199),n=r(7434),i=r(6740),o=r(5273),d=r(5968),c=r(8318),u=r(4416),h=r(4783),m=r(285);let x=[{id:"home",title:"P\xe1gina Inicial",icon:l.A,path:"/"},{id:"editor",title:"Editor",icon:n.A,path:"/editor"},{id:"calcula_dose",title:"Contador de Doses",icon:i.A,path:"/calcula_dose"},{id:"exames_json",title:"Organizar Exames JSON",icon:o.A,path:"/exames_json"},{id:"medicacoes",title:"Medica\xe7\xf5es",icon:d.A,path:"/medicacoes"},{id:"notas",title:"Notas",icon:c.A,path:"/notas",disabled:!0}];function p(e){let{currentPage:t}=e,[r,l]=(0,a.useState)(!1),n=e=>{window.location.href=e,l(!1)},i=e=>{if(t)return t===e;{let t=window.location.pathname;return t===e||"/"===t&&"/"===e||t.includes(e)&&"/"!==e}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed top-4 left-4 z-50",children:(0,s.jsx)(m.$,{onClick:()=>{l(!r)},variant:"outline",size:"icon",className:"bg-white shadow-md hover:shadow-lg transition-shadow",children:r?(0,s.jsx)(u.A,{className:"w-5 h-5"}):(0,s.jsx)(h.A,{className:"w-5 h-5"})})}),r&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity",onClick:()=>l(!1)}),(0,s.jsxs)("div",{className:"fixed top-0 left-0 h-full w-80 bg-white shadow-xl z-50 transform transition-transform duration-300 ease-in-out ".concat(r?"translate-x-0":"-translate-x-full"),children:[(0,s.jsxs)("div",{className:"p-6 border-b border-gray-200 bg-blue-600 text-white",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:"MedTools"}),(0,s.jsx)(m.$,{onClick:()=>l(!1),variant:"ghost",size:"icon",className:"text-white hover:bg-blue-700",children:(0,s.jsx)(u.A,{className:"w-5 h-5"})})]}),(0,s.jsx)("p",{className:"text-blue-100 text-sm mt-1",children:"Sistema de ferramentas m\xe9dicas"})]}),(0,s.jsx)("nav",{className:"p-4",children:(0,s.jsx)("div",{className:"space-y-2",children:x.map(e=>{let t=e.icon,r=i(e.path),a=e.disabled;return(0,s.jsxs)("button",{onClick:()=>!a&&!r&&n(e.path),disabled:a||r,className:"w-full flex items-center gap-3 p-3 rounded-lg text-left transition-colors ".concat(r?"bg-blue-100 text-blue-700 cursor-default":a?"text-gray-400 cursor-not-allowed opacity-60":"text-gray-700 hover:bg-gray-100 cursor-pointer"),children:[(0,s.jsx)(t,{className:"w-5 h-5 flex-shrink-0"}),(0,s.jsx)("span",{className:"font-medium",children:e.title}),r&&(0,s.jsx)("span",{className:"ml-auto text-xs bg-blue-200 text-blue-700 px-2 py-1 rounded-full",children:"Atual"}),a&&(0,s.jsx)("span",{className:"ml-auto text-xs bg-gray-200 text-gray-500 px-2 py-1 rounded-full",children:"Em Breve"})]},e.id)})})}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200 bg-gray-50",children:(0,s.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Desenvolvido para profissionais da sa\xfade"})})]})]})}},1788:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(2895).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},3311:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(2895).A)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},3587:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(5155),a=r(2115),l=r(3717),n=r(3311),i=r(1788),o=r(285),d=r(4165),c=r(8),u=r(9719),h=r(9434);function m(){let[e,t]=(0,a.useState)(""),[r,m]=(0,a.useState)("edit"),[x,p]=(0,a.useState)([]),[g,f]=(0,a.useState)(!1),[y,b]=(0,a.useState)(""),[w,v]=(0,a.useState)(null),[j,k]=(0,a.useState)(!1),[N,C]=(0,a.useState)({top:0,left:0,direction:"down",maxHeight:320}),[S,A]=(0,a.useState)(0),[D,L]=(0,a.useState)(""),[M,E]=(0,a.useState)(""),[z,R]=(0,a.useState)(new Map),[U,T]=(0,a.useState)([]),B=a.useCallback(e=>{if(e.length<3)return[];let t=[];for(let r=0;r<=e.length-3;r++)t.push(e.substring(r,r+3));return t},[]),H=a.useCallback((e,t)=>{let r=e.key.toLowerCase(),s=0;return r===t?s+=1e3:r.startsWith(t)?s+=500:r.includes(t)&&(s+=100),s+=Math.max(0,50-r.length),r.length<=10&&(s+=20),s},[]);a.useCallback((e,t,r)=>{if(e.length<3)return[];let s=e.toLowerCase(),a=B(s);if(0===a.length)return r.slice(0,10);let l=null;for(let e of a){let r=t.get(e);if(!r||0===r.size){l=new Set;break}if(null===l)l=new Set(r);else{let e=new Set;for(let t of l)r.has(t)&&e.add(t);l=e}if(0===l.size)break}return l&&0!==l.size?Array.from(l).map(e=>({sub:r[e],score:H(r[e],s)})).sort((e,t)=>t.score-e.score).slice(0,10).map(e=>e.sub):r.filter(e=>e.key.toLowerCase().startsWith(s)).slice(0,10)},[B,H]);let I=a.useRef(null),O=a.useRef(null),_=a.useRef();(0,a.useEffect)(()=>{let e=u.a.getSubstitutions().sort((e,t)=>e.key.length!==t.key.length?e.key.length-t.key.length:e.key.localeCompare(t.key));T(e),p(e);let t=new Map;e.forEach((e,r)=>{let s=e.key.toLowerCase(),a=e.text.toLowerCase();B(s).forEach(e=>{t.has(e)||t.set(e,new Set),t.get(e).add(r)}),a.split(/\s+/).slice(0,5).forEach(e=>{e.length>=3&&B(e).forEach(e=>{t.has(e)||t.set(e,new Set),t.get(e).add(r)})})}),R(t)},[]),(0,a.useEffect)(()=>{if(w){let e=setTimeout(()=>v(null),3e3);return()=>clearTimeout(e)}},[w]);let W=x.filter(e=>e.key.toLowerCase().includes(y.toLowerCase())||e.text.toLowerCase().includes(y.toLowerCase()));(0,a.useEffect)(()=>(_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{E(y)},150),()=>{_.current&&clearTimeout(_.current)}),[y]),(0,a.useEffect)(()=>{g||(b(""),E(""))},[g]);let q=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";v({message:e,type:t})},V=x.filter(e=>e.key.toLowerCase().includes(D.toLowerCase())),$=(e,t)=>{let r,s,a=document.createElement("div"),l=a.style,n=window.getComputedStyle(e);l.whiteSpace="pre-wrap",l.wordBreak="break-word",l.position="absolute",l.visibility="hidden",l.top="0",l.left="0",["fontFamily","fontSize","fontWeight","lineHeight","letterSpacing","wordSpacing","paddingTop","paddingLeft","paddingRight","paddingBottom","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","borderStyle","boxSizing"].forEach(e=>{l[e]=n[e]}),a.textContent=e.value.substring(0,t);let i=document.createElement("span");i.textContent=e.value.substring(t)||".",a.appendChild(i),document.body.appendChild(a);let o=e.getBoundingClientRect(),d=i.getBoundingClientRect(),c=a.getBoundingClientRect(),u=d.top-c.top,h=d.left-c.left,m=o.top+u-e.scrollTop,x=o.left+h-e.scrollLeft,p=Math.min(56*V.length,320),g=window.innerHeight,f=window.innerWidth,y=o.bottom,b=o.top;if(y<0||b>g)return document.body.removeChild(a),null;m<g/2?(s="down",(r=m+25)+p>g&&g-r-10<p/2&&(s="up",(r=m-p-5)<10&&(r=10))):(s="up",(r=m-p-5)<10&&(m-10<p/2?(s="down",(r=m+25)+p>g&&(r=g-p-10)):r=Math.max(10,r)));let w=x;w+800>f&&(w=Math.max(10,f-800-10));let v={top:r,left:w=Math.max(10,w),direction:s,maxHeight:"down"===s?Math.min(p,g-r-10):Math.min(p,m-10)};return document.body.removeChild(a),v},F=a.useCallback(e=>{let r=e.target.value,s=e.target.selectionStart;t(r);let a=r.slice(0,s),l=a.lastIndexOf("@");if(-1===l)return void k(!1);let n=a.slice(l+1);if(n.includes(" ")||n.length<3)return void k(!1);if(L(n),A(0),I.current){let e=$(I.current,s);if(null===e)return void k(!1);C(e),k(!0)}},[V]);(0,a.useEffect)(()=>{let e=()=>{j&&k(!1)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[j]);let P=r=>{if(!I.current||!r||!r.text)return;let s=I.current.selectionStart,a=e.slice(0,s),l=a.lastIndexOf("@");t(a.slice(0,l)+r.text+e.slice(s)),k(!1),setTimeout(()=>{if(I.current){let e=l+r.text.length;I.current.setSelectionRange(e,e),I.current.focus()}},0)},Z=Array.from({length:e.split("\n").length},(e,t)=>t+1).join("\n"),G="generate"===r?(0,h.dY)(e):e,J="generate"===r;return(0,s.jsxs)("div",{className:"flex h-screen bg-white text-gray-900 overflow-hidden",children:[(0,s.jsx)(c.A,{currentPage:"/editor"}),w&&(0,s.jsx)("div",{className:"fixed top-4 right-4 z-50 flex items-center gap-2 px-4 py-3 rounded-lg shadow-lg ".concat("success"===w.type?"bg-green-500 text-white":"bg-red-500 text-white"),children:(0,s.jsx)("span",{className:"font-medium",children:w.message})}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[(0,s.jsxs)("div",{className:"h-12 bg-gray-100 border-b border-gray-200 flex items-center px-4 mt-16",children:[(0,s.jsx)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:(0,s.jsx)("span",{className:"text-sm font-medium truncate",children:"Editor de Texto"})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>f(!0),className:"px-3 py-1.5 text-sm h-8",children:"Ver Substitui\xe7\xf5es"}),(0,s.jsxs)("div",{className:"flex bg-gray-200 rounded-lg p-1",children:[(0,s.jsxs)(o.$,{variant:"edit"===r?"default":"ghost",size:"sm",onClick:()=>m("edit"),className:"px-3 py-1.5 text-sm h-8",children:[(0,s.jsx)(l.A,{className:"w-4 h-4 mr-1.5"}),"Editar"]}),(0,s.jsxs)(o.$,{variant:"generate"===r?"default":"ghost",size:"sm",onClick:()=>m("generate"),className:"px-3 py-1.5 text-sm h-8",children:[(0,s.jsx)(n.A,{className:"w-4 h-4 mr-1.5"}),"Gerar"]})]}),(0,s.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>{let t=new Blob([e],{type:"text/plain"}),r=URL.createObjectURL(t),s=document.createElement("a");s.href=r,s.download="documento.txt",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r),q("Arquivo baixado!")},children:[(0,s.jsx)(i.A,{className:"w-4 h-4 mr-2"}),"Download"]})]})]}),(0,s.jsx)("main",{className:"flex-grow p-2 overflow-hidden",children:(0,s.jsxs)("div",{className:"relative h-full font-mono text-sm bg-white border border-gray-200 rounded",children:[(0,s.jsx)("pre",{ref:O,className:"absolute top-0 left-0 bottom-0 w-12 pr-2 pt-4 pb-5 text-right text-gray-400 pointer-events-none select-none overflow-hidden bg-gray-50 border-r border-gray-200",children:Z}),(0,s.jsx)("textarea",{ref:I,value:G,onChange:J?void 0:F,onKeyDown:J?void 0:e=>{if(j)if("ArrowDown"===e.key){e.preventDefault();let t=Math.min(S+1,V.length-1);A(t);let r=document.querySelector(".autocomplete-dropdown"),s=null==r?void 0:r.children[t];if(s&&r){let e=r.getBoundingClientRect();s.getBoundingClientRect().bottom>e.bottom&&s.scrollIntoView({block:"end",behavior:"smooth"})}}else if("ArrowUp"===e.key){e.preventDefault();let t=Math.max(S-1,0);A(t);let r=document.querySelector(".autocomplete-dropdown"),s=null==r?void 0:r.children[t];if(s&&r){let e=r.getBoundingClientRect();s.getBoundingClientRect().top<e.top&&s.scrollIntoView({block:"start",behavior:"smooth"})}}else"Enter"===e.key?(e.preventDefault(),P(V[S])):("Escape"===e.key||" "===e.key)&&k(!1)},onScroll:e=>{O.current&&(O.current.scrollTop=e.currentTarget.scrollTop),j&&k(!1)},placeholder:"Digite seu texto aqui... Use @ para autocompletar",readOnly:J,className:"absolute top-0 left-12 right-0 bottom-0 p-4 resize-none border-none outline-none bg-white text-gray-900"}),j&&V.length>0&&!J&&(0,s.jsx)("div",{className:"autocomplete-dropdown fixed bg-white border border-gray-300 rounded-lg shadow-lg overflow-y-auto z-50",style:{top:N.top,left:N.left,width:"800px",maxHeight:"".concat(N.maxHeight,"px")},children:V.slice(0,50).map((e,t)=>(0,s.jsxs)("div",{onClick:()=>P(e),className:"p-3 cursor-pointer border-b border-gray-100 hover:bg-gray-50 transition-colors ".concat(t===S?"bg-blue-50 border-blue-200":""),children:[(0,s.jsxs)("div",{className:"font-medium text-sm",children:["@",e.key]}),(0,s.jsx)("div",{className:"text-xs text-gray-600 truncate",children:e.text})]},e.key))})]})})]}),(0,s.jsx)(d.lG,{open:g,onOpenChange:f,children:(0,s.jsxs)(d.Cf,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,s.jsx)(d.c7,{children:(0,s.jsx)(d.L3,{children:"Substitui\xe7\xf5es Dispon\xedveis"})}),(0,s.jsxs)("div",{className:"relative mb-4",children:[(0,s.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"\uD83D\uDD0D"}),(0,s.jsx)("input",{type:"text",placeholder:"Digite pelo menos 3 caracteres para filtrar...",value:y,onChange:e=>b(e.target.value),className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),y&&(0,s.jsx)("button",{onClick:()=>b(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:"✕"})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:W.length>0?(0,s.jsxs)(s.Fragment,{children:[y.length>0&&y.length<3&&(0,s.jsx)("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:(0,s.jsx)("p",{className:"text-sm text-yellow-700",children:"Digite pelo menos 3 caracteres para uma busca mais r\xe1pida"})}),(0,s.jsx)("div",{className:"grid gap-3",children:W.map((e,t)=>(0,s.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800",children:["@",e.key]}),e.key.toLowerCase().startsWith(M.toLowerCase())&&(0,s.jsx)("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"Exact Match"})]}),(0,s.jsx)("div",{className:"text-sm text-gray-700 whitespace-pre-wrap break-words",children:e.text.length>150?"".concat(e.text.substring(0,150),"..."):e.text})]},"".concat(e.key,"-").concat(t)))}),x.length>W.length&&(0,s.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:(0,s.jsxs)("p",{className:"text-sm text-blue-700",children:["Mostrando"," ",W.length," ","de ",x.length," ","substitui\xe7\xf5es.",(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"\uD83D\uDCA1 Dica:"})," Use termos mais espec\xedficos para resultados mais precisos e r\xe1pidos."]})})]}):(0,s.jsx)("div",{className:"flex items-center justify-center h-32 text-gray-500",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl mb-2 opacity-50",children:"\uD83D\uDD0D"}),(0,s.jsx)("p",{children:y.length>0&&y.length<3?"Digite pelo menos 3 caracteres":"Nenhuma substitui\xe7\xe3o encontrada"}),(0,s.jsx)("p",{className:"text-sm opacity-75",children:y.length>0&&y.length<3?"Filtros mais longos s\xe3o mais r\xe1pidos":"Tente ajustar o filtro ou verificar a grafia"})]})})})]})})]})}},3717:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(2895).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]])},5273:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(2895).A)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},5968:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(2895).A)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])},8199:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(2895).A)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},8318:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(2895).A)("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]])},8341:(e,t,r)=>{Promise.resolve().then(r.bind(r,3587))},9737:(e,t,r)=>{"use strict";let s;r.d(t,{A:()=>i});let a={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},l=new Uint8Array(16),n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));let i=function(e,t,r){if(a.randomUUID&&!t&&!e)return a.randomUUID();let i=(e=e||{}).random||(e.rng||function(){if(!s&&!(s="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(l)})();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=i[e];return t}return function(e,t=0){return n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]}(i)}}},e=>{var t=t=>e(e.s=t);e.O(0,[975,651,599,441,684,358],()=>t(8341)),_N_E=e.O()}]);